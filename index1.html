<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MedTracker - Отслеживание лекарств</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app">
        <!-- Навигация -->
        <nav class="navbar">
            <div class="nav-brand">
                <i class="fas fa-pills"></i>
                <span>MedTracker</span>
            </div>
            <div class="nav-tabs">
                <button class="nav-tab active" data-tab="home">
                    <i class="fas fa-home"></i>
                    <span>Главная</span>
                </button>
                <button class="nav-tab" data-tab="medications">
                    <i class="fas fa-pills"></i>
                    <span>Лекарства</span>
                </button>
                <button class="nav-tab" data-tab="family">
                    <i class="fas fa-users"></i>
                    <span>Семья</span>
                </button>
                <button class="nav-tab" data-tab="statistics">
                    <i class="fas fa-chart-line"></i>
                    <span>Статистика</span>
                </button>
                <button class="nav-tab" data-tab="tips">
                    <i class="fas fa-heart"></i>
                    <span>Советы</span>
                </button>
                <button class="nav-tab" data-tab="profile">
                    <i class="fas fa-user"></i>
                    <span>Профиль</span>
                </button>
            </div>
        </nav>

        <!-- Главная страница -->
        <div class="tab-content active" id="home">
            <div class="container">
                <!-- Приветствие -->
                <div class="greeting-card">
                    <div class="greeting-content">
                        <h1 id="greeting">Доброе утро!</h1>
                        <p id="current-time"></p>
                    </div>
                    <div class="greeting-icon">
                        <i class="fas fa-sun"></i>
                    </div>
                </div>

                <!-- Статистика -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-pills"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="total-medications">0</h3>
                            <p>Лекарств сегодня</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-wifi"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="online-members">0</h3>
                            <p>Онлайн</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="total-family">0</h3>
                            <p>Семья</p>
                        </div>
                    </div>
                </div>

                <!-- Следующее лекарство -->
                <div class="next-medication" id="next-medication" style="display: none;">
                    <h2>Следующее лекарство</h2>
                    <div class="medication-card next">
                        <div class="medication-icon">
                            <i class="fas fa-pills"></i>
                        </div>
                        <div class="medication-info">
                            <h3 id="next-med-name"></h3>
                            <p id="next-med-time"></p>
                        </div>
                    </div>
                </div>

                <!-- Лекарства на сегодня -->
                <div class="section">
                    <h2>Лекарства на сегодня</h2>
                    <div class="medications-list" id="today-medications">
                        <div class="empty-state">
                            <i class="fas fa-pills"></i>
                            <p>Нет лекарств на сегодня</p>
                        </div>
                    </div>
                </div>

                <!-- Предстоящие напоминания -->
                <div class="section">
                    <h2>Предстоящие напоминания</h2>
                    <div id="upcoming-reminders">
                        <div class="empty-state">
                            <i class="fas fa-bell"></i>
                            <p>Нет напоминаний на ближайшее время</p>
                        </div>
                    </div>
                </div>

                <!-- Статус семьи -->
                <div class="section">
                    <h2>Статус семьи</h2>
                    <div class="family-status" id="family-status">
                        <div class="empty-state">
                            <i class="fas fa-users"></i>
                            <p>Добавьте членов семьи</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Страница лекарств -->
        <div class="tab-content" id="medications">
            <div class="container">
                <div class="page-header">
                    <h1>Мои лекарства</h1>
                    <button class="btn btn-primary" onclick="showAddMedicationModal()">
                        <i class="fas fa-plus"></i>
                        Добавить лекарство
                    </button>
                </div>
                
                <!-- Поиск и фильтры -->
                <div class="search-filters">
                    <input type="text" id="medication-search" class="search-input" placeholder="Поиск лекарств..." onkeyup="filterMedications()">
                    <select id="medication-filter" class="filter-select" onchange="filterMedications()">
                        <option value="all">Все лекарства</option>
                        <option value="active">Активные</option>
                        <option value="completed">Завершенные</option>
                        <option value="today">На сегодня</option>
                    </select>
                    <select id="medication-sort" class="filter-select" onchange="filterMedications()">
                        <option value="name">По названию</option>
                        <option value="time">По времени приема</option>
                        <option value="progress">По прогрессу</option>
                    </select>
                </div>
                <div class="medications-grid" id="medications-grid">
                    <div class="empty-state">
                        <i class="fas fa-pills"></i>
                        <h3>Нет лекарств</h3>
                        <p>Добавьте ваше первое лекарство для отслеживания</p>
                        <button class="btn btn-primary" onclick="showAddMedicationModal()">
                            Добавить лекарство
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Страница семьи -->
        <div class="tab-content" id="family">
            <div class="container">
                <div class="page-header">
                    <h1>Моя семья</h1>
                    <button class="btn btn-primary" onclick="showAddFamilyModal()">
                        <i class="fas fa-plus"></i>
                        Добавить члена семьи
                    </button>
                </div>
                <div class="family-grid" id="family-grid">
                    <div class="empty-state">
                        <i class="fas fa-users"></i>
                        <h3>Нет членов семьи</h3>
                        <p>Добавьте ваших близких для отслеживания их статуса</p>
                        <button class="btn btn-primary" onclick="showAddFamilyModal()">
                            Добавить члена семьи
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Страница статистики -->
        <div class="tab-content" id="statistics">
            <div class="container">
                <div class="page-header">
                    <h1>Статистика приема</h1>
                    <div style="display: flex; gap: 1rem;">
                        <select id="statistics-period" onchange="updateStatistics()">
                            <option value="week">За неделю</option>
                            <option value="month" selected>За месяц</option>
                            <option value="3months">За 3 месяца</option>
                        </select>
                        <button class="btn btn-primary" onclick="exportStatistics()">
                            <i class="fas fa-download"></i>
                            Экспорт
                        </button>
                    </div>
                </div>

                <!-- Общая статистика -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="stats-compliance">0%</h3>
                            <p>Соблюдение режима</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-calendar-check"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="stats-taken">0</h3>
                            <p>Принято доз</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-calendar-times"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="stats-missed">0</h3>
                            <p>Пропущено доз</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-fire"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="stats-streak">0</h3>
                            <p>Серия дней</p>
                        </div>
                    </div>
                </div>

                <!-- График приема -->
                <div class="section">
                    <h2>График приема лекарств</h2>
                    <div class="chart-container">
                        <canvas id="medicationChart" width="400" height="200"></canvas>
                    </div>
                </div>

                <!-- История по дням -->
                <div class="section">
                    <h2>История по дням</h2>
                    <div class="history-filters">
                        <input type="date" id="history-date-from" onchange="updateHistoryTable()">
                        <span>до</span>
                        <input type="date" id="history-date-to" onchange="updateHistoryTable()">
                    </div>
                    <div class="history-table-container">
                        <table class="history-table" id="history-table">
                            <thead>
                                <tr>
                                    <th>Дата</th>
                                    <th>Лекарство</th>
                                    <th>Время</th>
                                    <th>Статус</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Страница советов -->
        <div class="tab-content" id="tips">
            <div class="container">
                <div class="page-header">
                    <h1>Советы по здоровью</h1>
                    <p style="color: #666;">Полезная информация для поддержания здоровья</p>
                </div>

                <!-- Советы по приему лекарств -->
                <div class="section">
                    <h2><i class="fas fa-pills"></i> Правильный прием лекарств</h2>
                    <div class="health-tips">
                        <div class="tip-card">
                            <h3><i class="fas fa-clock"></i> Соблюдайте время приема</h3>
                            <p>Принимайте лекарства в одно и то же время каждый день. Это поможет поддерживать постоянный уровень лекарства в организме и повысит его эффективность.</p>
                        </div>
                        <div class="tip-card">
                            <h3><i class="fas fa-utensils"></i> Принимайте с пищей</h3>
                            <p>Многие лекарства лучше принимать во время или после еды, чтобы избежать раздражения желудка. Проверьте инструкцию к препарату.</p>
                        </div>
                        <div class="tip-card">
                            <h3><i class="fas fa-tint"></i> Запивайте водой</h3>
                            <p>Всегда запивайте лекарства достаточным количеством чистой воды. Это поможет лекарству лучше усвоиться и защитит желудок.</p>
                        </div>
                        <div class="tip-card">
                            <h3><i class="fas fa-ban"></i> Не смешивайте с алкоголем</h3>
                            <p>Алкоголь может снизить эффективность лекарств или вызвать опасные побочные эффекты. Избегайте алкоголя во время лечения.</p>
                        </div>
                    </div>
                </div>

                <!-- Общие советы по здоровью -->
                <div class="section">
                    <h2><i class="fas fa-heart"></i> Общие рекомендации</h2>
                    <div class="health-tips">
                        <div class="tip-card">
                            <h3><i class="fas fa-bed"></i> Здоровый сон</h3>
                            <p>Старайтесь спать 7-9 часов в сутки. Качественный сон укрепляет иммунитет и помогает организму лучше восстанавливаться.</p>
                        </div>
                        <div class="tip-card">
                            <h3><i class="fas fa-running"></i> Физическая активность</h3>
                            <p>Регулярные физические упражнения улучшают общее состояние здоровья и могут усилить действие некоторых лекарств.</p>
                        </div>
                        <div class="tip-card">
                            <h3><i class="fas fa-apple-alt"></i> Сбалансированное питание</h3>
                            <p>Питайтесь разнообразно, включая фрукты, овощи, белки и цельнозерновые продукты. Это поддержит ваш организм во время лечения.</p>
                        </div>
                        <div class="tip-card">
                            <h3><i class="fas fa-smile"></i> Позитивный настрой</h3>
                            <p>Поддерживайте позитивный настрой и избегайте стрессов. Ментальное здоровье не менее важно для выздоровления.</p>
                        </div>
                    </div>
                </div>

                <!-- Экстренные ситуации -->
                <div class="section">
                    <h2><i class="fas fa-exclamation-triangle"></i> Когда обратиться к врачу</h2>
                    <div class="health-tips">
                        <div class="tip-card">
                            <h3><i class="fas fa-thermometer-half"></i> Побочные эффекты</h3>
                            <p>Если у вас появились необычные симптомы после приема лекарства, немедленно обратитесь к врачу. Не прекращайте прием без консультации.</p>
                        </div>
                        <div class="tip-card">
                            <h3><i class="fas fa-calendar-times"></i> Пропущенная доза</h3>
                            <p>Если вы пропустили прием лекарства, не принимайте двойную дозу. Следуйте инструкции на упаковке или обратитесь к врачу.</p>
                        </div>
                        <div class="tip-card">
                            <h3><i class="fas fa-pills"></i> Взаимодействие лекарств</h3>
                            <p>Обязательно сообщите врачу о всех лекарствах, которые вы принимаете, включая витамины и БАДы, чтобы избежать нежелательных взаимодействий.</p>
                        </div>
                        <div class="tip-card">
                            <h3><i class="fas fa-phone"></i> Экстренная помощь</h3>
                            <p>При серьезных побочных реакциях (затрудненное дыхание, отек лица, сыпь) немедленно вызывайте скорую помощь.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Страница профиля -->
        <div class="tab-content" id="profile">
            <div class="container">
                <div class="profile-header">
                    <div class="profile-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <h1>Пользователь</h1>
                    <p>user@example.com</p>
                </div>

                <div class="profile-stats">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-pills"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="profile-total-meds">0</h3>
                            <p>Всего лекарств</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="profile-active-meds">0</h3>
                            <p>Активных</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="profile-completion">0%</h3>
                            <p>Выполнено</p>
                        </div>
                    </div>
                </div>

                <div class="settings-section">
                    <h2>Настройки</h2>
                    <div class="setting-item">
                        <div class="setting-info">
                            <h3>Уведомления</h3>
                            <p>Получать напоминания о приеме лекарств</p>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="notifications-toggle" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <div class="setting-item">
                        <div class="setting-info">
                            <h3>Напоминания</h3>
                            <p>Звуковые и вибрационные напоминания</p>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="reminders-toggle" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Модальное окно добавления лекарства -->
    <div class="modal" id="add-medication-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Добавить лекарство</h2>
                <button class="modal-close" onclick="closeModal('add-medication-modal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="add-medication-form">
                <div class="form-group">
                    <label>Название лекарства *</label>
                    <input type="text" id="med-name" required>
                </div>
                <div class="form-group">
                    <label>Дозировка *</label>
                    <input type="text" id="med-dosage" required>
                </div>
                <div class="form-group">
                    <label>Частота приема</label>
                    <input type="text" id="med-frequency" placeholder="Например: 3 раза в день">
                </div>
                <div class="form-group">
                    <label>Время приема *</label>
                    <div class="time-inputs" id="time-inputs">
                        <div class="time-input-group">
                            <input type="time" class="time-input" required>
                            <button type="button" class="btn-remove-time" onclick="removeTimeInput(this)">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                    <button type="button" class="btn btn-secondary" onclick="addTimeInput()">
                        <i class="fas fa-plus"></i>
                        Добавить время
                    </button>
                </div>
                <div class="form-group">
                    <label>Цвет</label>
                    <div class="color-picker">
                        <div class="color-option active" data-color="#a8d8ea" style="background-color: #a8d8ea;"></div>
                        <div class="color-option" data-color="#b8e6d3" style="background-color: #b8e6d3;"></div>
                        <div class="color-option" data-color="#ffb3ba" style="background-color: #ffb3ba;"></div>
                        <div class="color-option" data-color="#ffdfba" style="background-color: #ffdfba;"></div>
                        <div class="color-option" data-color="#f7dcb4" style="background-color: #f7dcb4;"></div>
                        <div class="color-option" data-color="#d3d3d3" style="background-color: #d3d3d3;"></div>
                    </div>
                </div>
                <div class="form-group">
                    <label>Заметки</label>
                    <textarea id="med-notes" rows="3"></textarea>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('add-medication-modal')">
                        Отмена
                    </button>
                    <button type="submit" class="btn btn-primary">
                        Сохранить
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Модальное окно добавления члена семьи -->
    <div class="modal" id="add-family-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Добавить члена семьи</h2>
                <button class="modal-close" onclick="closeModal('add-family-modal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="add-family-form">
                <div class="form-group">
                    <label>Имя *</label>
                    <input type="text" id="family-name" required>
                </div>
                <div class="form-group">
                    <label>Родство *</label>
                    <select id="family-relationship" required>
                        <option value="">Выберите родство</option>
                        <option value="Мама">Мама</option>
                        <option value="Папа">Папа</option>
                        <option value="Бабушка">Бабушка</option>
                        <option value="Дедушка">Дедушка</option>
                        <option value="Сестра">Сестра</option>
                        <option value="Брат">Брат</option>
                        <option value="Жена">Жена</option>
                        <option value="Муж">Муж</option>
                        <option value="Дочь">Дочь</option>
                        <option value="Сын">Сын</option>
                        <option value="Друг">Друг</option>
                        <option value="Другое">Другое</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Телефон</label>
                    <input type="tel" id="family-phone">
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="family-email">
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('add-family-modal')">
                        Отмена
                    </button>
                    <button type="submit" class="btn btn-primary">
                        Добавить
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
